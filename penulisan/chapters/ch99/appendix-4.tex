\chapter{Instalasi dan Konfigurasi Spark}
\label{appendix:D}

Langkah-langkah pemasangan dan konfigurasi Spark akan dijelaskan sebagai berikut,

\begin{enumerate}
  \item Unduh Berkas Spark
  \begin{enumerate}
    \item Pastikan perangkat lunak prasyarat sudah berhasil dipasang dan dilakukan konfigurasi. Sebelum dilakukan pemasangan Spark, diperlukan untuk mengunduh berkas Spark terlebih dahulu dengan perintah \verb|cd /usr/local|, dilanjutkan dengan \verb|sudo wget https://archive.apache.org/dist/spark/|
    \newline \verb|spark-1.5.0/spark-1.5.0-bin-hadoop2.6.tgz|.    
    \item Ekstrak berkas Spark yang sudah diunduh tadi dengan perintah \verb|sudo tar xvf spark-1.5.0-bin-hadoop2.6.tgz|. Hasil ekstrak berkas Spark akan disimpan pada direktori yang sama.
    \item Selanjutnya, untuk memudahkan kedepannya, ganti nama folder Spark dengan perintah \verb|sudo mv spark-1.5.0-bin-hadoop2.6  spark|. 
  \end{enumerate}
  \item Menambahkan Spark pada \textit{Environments Variables}
  \begin{enumerate}
    \item Spark perlu ditambahkan pada \textit{Environments Variabels} untuk memudahkan dalam melakukan eksekusi. Untuk menambahkannya, jalankan perintah \verb|sudo nano ~/.bashrc|.
    \item Tambahkan beberapa baris kode berikut pada akhir berkas \textit{bashrc}.
      \begin{lstlisting}[language=bash]
		# SPARK ENVIRONMENT
		export PATH=$PATH:/usr/local/spark/bin
		export YARN_CONF_DIR=$HADOOP_HOME/etc/hadoop
		export SPARK_HOME=$PATH:/usr/local/spark/bin
      \end{lstlisting}
    \item Untuk mendapatkan perubahan dapat dilakukan dengan perintah \verb|source ~/.bashrc|.
  \end{enumerate}
  \item Menjalankan \textit{Spark Shell}
  \begin{enumerate}
    \item Pastikan bahwa Spark sudah ditambahkan pada \textit{environmens variables} dengan perintah \verb|spark-submit --version|.
    \item Jalankan layanan Hadoop dengan perintah \verb|start-all.sh|.
    \item Jalankan \textit{spark-shell} dengan YARN menggunakan perintah \verb|spark-shell --master yarn|.
  \end{enumerate}
\end{enumerate}